<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
 <head>
   <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
   <title>Dongrami Tarot</title>
   <link rel="stylesheet" th:href="@{/css/editprofile.css}" />
 </head>
 <body>
	    <header>

	        <div class="header-container">
	            <div class="logo-container">
	                <a href="#" class="logo-text">CIRCLE TAROT</a>
	                <div class="hover-content">
	                    <span class="hover-text left-text">동그</span>
	                    <div class="logo-image"></div>
	                    <span class="hover-text right-text">라미</span>
	                </div>
	            </div>

				<div id="right-section">
					      <!-- 로그인하지 않은 경우 -->
					      <a th:if="${session.loggedInUser == null}" th:href="@{/login}" id="loginButton">로그인 / 회원가입</a>
					               
					       <!-- 로그인한 경우 -->
					       <div th:if="${session.loggedInUser != null}" id="userDropdownContainer">
					            <a href="#" id="userName" class="dropdown-toggle">
					                <img src="/images/mainlogo.png" alt="프로필 이미지" class="profile-img">
					                <span th:text="${session.loggedInUser.nickname}">사용자 이름</span>
					            </a>
					            <div id="userDropdown" class="dropdown-menu">
					                 <a th:href="@{/mypage}">마이페이지</a>
					                 <a th:href="@{/auth/logout}" id="logoutButton">로그아웃</a>
					            </div>
					        </div>
					   </div>

	        </div>

	    </header>
	    
	    <section id="nav-section">
	        <div id="center-section">
	            <nav id="nav">
	                <ul>
	                    <li>
	                        <a href="#">HOME</a>
	                    </li>
	                    <li><a href="no-sidebar.html">타로 보러가기</a></li>
	                    <li>
	                        <a href="#">투표</a>
	                    </li>
	                    <li><a href="no-sidebar.html">후기</a></li>
	                </ul>
	            </nav>
	        </div>
	    </section>

	    <div class="container">
	    <div class="change-box">
	        <div class="image-logo">
	            <img src="./images/basic.png" alt="">
	        </div>

			        <div class="menu">
			            <form id="editProfileForm" action="#" method="post">
			                <div class="id">
			                    <input type="text" placeholder="아이디(이메일 형식)" th:value="${member.email}" readonly>
			                </div>

			                <div class="password">
			                    <input type="password" placeholder="비밀번호" name="password">
			                </div>
			                <div class="password-check">
			                    <input type="password" placeholder="비밀번호 확인" name="passwordConfirm">
			                </div>
			                <div class="name">
			                    <input type="text" placeholder="이름" th:value="${member.nickname}" name="nickname">
			                </div>
			                <div class="birth" id="info__birth">
			                    <select class="box" id="birth-year" name="birthYear">
			                        <option th:each="year : ${years}" th:value="${year}" th:text="${year}"
			                                th:selected="${#dates.format(member.birthDate, 'yyyy') == year}"></option>
			                    </select>
			                    <select class="box" id="birth-month" name="birthMonth">
			                        <option th:each="month : ${months}" th:value="${month}" th:text="${month}"
			                                th:selected="${#dates.format(member.birthDate, 'MM') == month}"></option>
			                    </select>
			                    <select class="box" id="birth-day" name="birthDay">
			                        <option th:each="day : ${days}" th:value="${day}" th:text="${day}"
			                                th:selected="${#dates.format(member.birthDate, 'dd') == day}"></option>
			                    </select>
			                </div>
			                <div class="phonenumber">
			                    <input type="text" class="text" placeholder="휴대전화번호" th:value="${member.phoneNumber}" name="phoneNumber">
			                </div>

			                <input type="submit" value="회원 정보 저장" id="saveProfileButton">
			            </form>
			        </div>
			    </div>
			</div>
	
	<div id="myModal" class="modal" style="display: none;">
	    <div class="modal-content">
	        <span class="close" id="closeModal">&times;</span>
	        <p>회원 정보가 수정되었습니다!</p>
	        <button id="modalMyPageButton">확인</button>
	    </div>
	</div>

	<footer>
	    <div class="footer-wrapper">
	      <div class="footer-company">
	        <label class="footer-label">CIRCLE TAROT</label>
	        <div class="description">
	          <div class="footer-companyinfo">
	            <p>(주) 동그라미타로 | 대표: 동그라미 | 고객센터 02-1234-5678 | 주소: 서울시 서초구 사평대로52길 9-2 소망빌딩 3층 | 사업자번호: xxx-xx-xxxxx | 이메일: donggramitarot@naver.com</p>
	          </div>
	          <div class="copyright">
	            <p>Copyright ⓒ 2024 by DongGramiTarot all rights reserved.</p>
	          </div>
	        </div>
	  </footer>
	  
	  <script th:src="@{/js/editprofile.js}"></script>	  
	   </body>
	  </html>
